<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>å¤§ç­æ•™å­¦ï¼šæ—¶é’Ÿå…ˆç”Ÿï¼ˆè¿›é˜¶ç‰ˆï¼‰</title>
    <style>
        body { font-family: 'Comic Sans MS', 'Microsoft YaHei', sans-serif; background-color: #e0f7fa; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; user-select: none; }
        h1 { color: #006064; margin-bottom: 10px; text-shadow: 1px 1px 2px rgba(0,0,0,0.1); }
        p { color: #555; margin-bottom: 20px; font-size: 14px; }

        /* æ—¶é’Ÿå¤–å£³ */
        .clock {
            width: 320px; height: 320px;
            background-color: white;
            border: 15px solid #ffab91;
            border-radius: 50%;
            position: relative;
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
            /* å¢åŠ ä¸€ç‚¹æœ¨è´¨æˆ–å¡é€šçº¹ç†æ„Ÿï¼ˆå¯é€‰ï¼‰ */
            background-image: radial-gradient(circle, #fff 60%, #f5f5f5 100%);
        }
        
        /* åˆ»åº¦æ•°å­— (å¤§) */
        .number {
            position: absolute; width: 30px; height: 30px;
            text-align: center; line-height: 30px; font-weight: bold; font-size: 26px; color: #4e342e;
            top: 50%; left: 50%;
            z-index: 2;
        }

        /* åˆ†é’Ÿåˆ»åº¦çº¿ (å°) */
        .tick {
            position: absolute; width: 2px; height: 10px; background: #ddd;
            top: 0; left: 50%; transform-origin: 0 160px; /* åŠå¾„å¯¹åº”clockå¤§å° */
            z-index: 1;
        }
        .tick.large { width: 4px; height: 15px; background: #ff7043; } /* æ•´ç‚¹åˆ»åº¦åŠ ç²— */

        /* ä¸­å¿ƒç‚¹ */
        .center-dot {
            width: 18px; height: 18px; background: #37474f; border-radius: 50%;
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 10;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        /* æŒ‡é’ˆå®¹å™¨ */
        .hand {
            position: absolute; bottom: 50%; left: 50%;
            transform-origin: bottom center;
            border-radius: 10px; z-index: 5;
            transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); /* å¼¹æ€§åŠ¨ç”»æ›´ç”ŸåŠ¨ */
            box-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        /* æ—¶é’ˆ (çŸ­èƒ–) */
        .hour-hand {
            width: 12px; height: 75px; background-color: #37474f;
            /* åˆå§‹ä½ç½®ä¿®æ­£ */
        }
        
        /* åˆ†é’ˆ (ç»†é•¿) */
        .minute-hand {
            width: 8px; height: 115px; background-color: #00bcd4;
        }

        /* æ•°å­—æ˜¾ç¤ºå± */
        .display-time { 
            margin-top: 25px; 
            font-size: 40px; 
            font-family: monospace; 
            font-weight: bold; 
            color: #00838f; 
            background: #fff;
            padding: 5px 20px;
            border-radius: 10px;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }

        /* æ“ä½œé¢æ¿ */
        .controls { margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; max-width: 500px; }
        
        .btn-group {
            display: flex; gap: 5px; background: rgba(255,255,255,0.6); padding: 5px; border-radius: 12px;
        }

        button {
            padding: 10px 15px; font-size: 15px; border: none; border-radius: 8px;
            cursor: pointer; font-weight: bold;
            transition: all 0.1s;
            box-shadow: 0 3px 0 rgba(0,0,0,0.2);
        }
        button:active { transform: translateY(3px); box-shadow: none; }

        /* é¢œè‰²åŒºåˆ†åŠŸèƒ½ */
        .btn-hour { background-color: #ffcc80; color: #5d4037; }
        .btn-min { background-color: #80deea; color: #006064; }
        .btn-reset { background-color: #ffab91; color: #bf360c; }

    </style>
</head>
<body>

    <h1>ğŸ•°ï¸ å¥‡å¦™æ—¶é’Ÿï¼šå‡ ç‚¹å‡ åˆ†ï¼Ÿ</h1>
    <p>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œè§‚å¯Ÿæ—¶é’ˆå’Œåˆ†é’ˆæ˜¯æ€ä¹ˆèµ›è·‘çš„ï¼</p>
    
    <div class="clock">
        <div id="ticks"></div>
        <div id="numbers"></div>
        
        <div class="center-dot"></div>
        <div class="hand hour-hand" id="hourHand"></div>
        <div class="hand minute-hand" id="minuteHand"></div>
    </div>

    <div class="display-time" id="timeDisplay">12:00</div>

    <div class="controls">
        <div class="btn-group">
            <button class="btn-hour" onclick="addTime(60)">+1 å°æ—¶</button>
            <button class="btn-hour" onclick="setSpecificTime(9, 0)">ğŸ•˜ 9ç‚¹</button>
            <button class="btn-hour" onclick="setSpecificTime(3, 0)">ğŸ•’ 3ç‚¹</button>
        </div>

        <div class="btn-group">
            <button class="btn-min" onclick="addTime(1)">+1 åˆ†</button>
            <button class="btn-min" onclick="addTime(5)">+5 åˆ†</button>
            <button class="btn-min" onclick="addTime(30)">+30 åˆ†</button>
        </div>

        <div class="btn-group">
            <button class="btn-reset" onclick="resetTime()">ğŸ”„ é‡ç½®å›12ç‚¹</button>
        </div>
    </div>

    <script>
        // 1. åˆå§‹åŒ–è¡¨ç›˜åˆ»åº¦å’Œæ•°å­—
        const numberContainer = document.getElementById('numbers');
        const tickContainer = document.getElementById('ticks');
        
        // ç»˜åˆ¶æ•°å­— (1-12)
        for (let i = 1; i <= 12; i++) {
            const numDiv = document.createElement('div');
            numDiv.className = 'number';
            numDiv.innerText = i;
            const angle = (i * 30) * (Math.PI / 180); 
            // è°ƒæ•´åŠå¾„ä¸º130pxï¼Œè®©æ•°å­—é å†…ä¸€ç‚¹
            const x = Math.sin(angle) * 130;
            const y = -Math.cos(angle) * 130;
            numDiv.style.transform = `translate(-50%, -50%) translate(${x}px, ${y}px)`;
            numberContainer.appendChild(numDiv);
        }

        // ç»˜åˆ¶åˆ»åº¦çº¿ (0-59)
        for (let i = 0; i < 60; i++) {
            const tick = document.createElement('div');
            tick.className = i % 5 === 0 ? 'tick large' : 'tick';
            tick.style.transform = `rotate(${i * 6}deg)`; // æ¯åˆ†é’Ÿ6åº¦
            tickContainer.appendChild(tick);
        }

        // 2. æ ¸å¿ƒé€»è¾‘ï¼šä½¿ç”¨â€œæ€»åˆ†é’Ÿæ•°â€æ¥æ§åˆ¶ï¼Œä¿è¯æ—‹è½¬è¿è´¯
        // åˆå§‹çŠ¶æ€ï¼š12:00
        let totalMinutes = 12 * 60; 

        function updateClock() {
            const hourHand = document.getElementById('hourHand');
            const minuteHand = document.getElementById('minuteHand');
            const timeDisplay = document.getElementById('timeDisplay');

            // è®¡ç®—æ—‹è½¬è§’åº¦
            // åˆ†é’ˆï¼šæ¯åˆ†é’Ÿèµ°6åº¦
            const minDeg = totalMinutes * 6;
            // æ—¶é’ˆï¼šæ¯åˆ†é’Ÿèµ°0.5åº¦ (360åº¦ / 12å°æ—¶ / 60åˆ†é’Ÿ = 0.5)
            const hourDeg = totalMinutes * 0.5;

            minuteHand.style.transform = `translate(-50%, 0) rotate(${minDeg}deg)`;
            hourHand.style.transform = `translate(-50%, 0) rotate(${hourDeg}deg)`;
            
            // è®¡ç®—æ•°å­—æ—¶é—´æ˜¾ç¤º (12å°æ—¶åˆ¶é€»è¾‘)
            // è·å–å½“å‰çš„å°æ—¶å’Œåˆ†é’Ÿ
            let displayH = Math.floor(totalMinutes / 60) % 12;
            let displayM = totalMinutes % 60;

            // å¤„ç†12ç‚¹æ˜¾ç¤ºé—®é¢˜ (0ç‚¹å’Œ12ç‚¹éƒ½æ˜¾ç¤º12)
            if (displayH === 0) displayH = 12;
            
            // è¡¥é›¶
            const strM = displayM < 10 ? '0' + displayM : displayM;
            
            timeDisplay.innerText = `${displayH}:${strM}`;
        }

        // å¢åŠ æ—¶é—´ï¼ˆé€šç”¨å‡½æ•°ï¼‰
        function addTime(minutesToAdd) {
            totalMinutes += minutesToAdd;
            updateClock();
        }

        // è®¾ç½®ç‰¹å®šæ—¶é—´ (éœ€è¦è®¡ç®—æœ€è¿‘çš„æœªæ¥æ—‹è½¬è§’åº¦ï¼Œé˜²æ­¢æŒ‡é’ˆä¹±è½¬)
        function setSpecificTime(h, m) {
            // ç›®æ ‡æ—¶é—´çš„å½“å¤©åˆ†é’Ÿæ•° (æ¯”å¦‚ 3:00 -> 3*60 = 180)
            let targetDayMinutes = (h % 12) * 60 + m;
            if (targetDayMinutes === 0) targetDayMinutes = 12 * 60; // ä¿®æ­£12ç‚¹é€»è¾‘

            // å½“å‰æ—¶é—´çš„å½“å¤©åˆ†é’Ÿæ•°
            let currentDayMinutes = totalMinutes % (12 * 60);
            if (currentDayMinutes === 0 && totalMinutes > 0) currentDayMinutes = 12 * 60;

            // è®¡ç®—å·®å€¼ï¼Œç¡®ä¿æ˜¯å‘å‰æ‹¨åŠ¨
            let diff = targetDayMinutes - currentDayMinutes;
            if (diff <= 0) {
                diff += 12 * 60; // å¦‚æœç›®æ ‡æ¯”å½“å‰å°ï¼Œå°±åŠ ä¸€åœˆ(12å°æ—¶)
            }

            addTime(diff);
        }

        function resetTime() {
            // é‡ç½®é€»è¾‘ï¼šä¸ºäº†åŠ¨ç”»å¹³æ»‘ï¼Œæˆ‘ä»¬ä¸ç›´æ¥è®¾ä¸º0ï¼Œè€Œæ˜¯åŠ åˆ°ä¸‹ä¸€ä¸ªæœ€è¿‘çš„12ç‚¹
            let remainder = totalMinutes % 720; // 720 = 12 * 60
            let toAdd = 720 - remainder;
            addTime(toAdd);
        }

        // åˆå§‹åŒ–
        updateClock();
    </script>
</body>
</html>